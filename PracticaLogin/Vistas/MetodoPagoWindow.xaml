<Window x:Class="PracticaLogin.MetodoPagoWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Pago Seguro con Stripe" Height="550" Width="450"
        WindowStartupLocation="CenterScreen" WindowStyle="None"
        AllowsTransparency="True" Background="Transparent"
        MouseDown="Window_MouseDown">

    <Border Background="White" CornerRadius="15" BorderBrush="#E6E6E6" BorderThickness="1">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="0" Opacity="0.2"/>
        </Border.Effect>

        <Grid>
            <StackPanel x:Name="PanelPago" Margin="40">
                <TextBlock Text="AKAY STORE" Foreground="#635BFF" FontSize="12" FontWeight="Bold" Margin="0,0,0,5"/>
                <TextBlock x:Name="lblTotal" Text="0.00€" Foreground="#1A1F36" FontSize="32" FontWeight="Bold" Margin="0,0,0,30"/>

                <TextBlock Text="Pagar con tarjeta" Foreground="#1A1F36" FontSize="16" FontWeight="SemiBold" Margin="0,0,0,15"/>

                <StackPanel>
                    <TextBlock Text="Correo electrónico" Foreground="#4F566B" FontSize="13" Margin="0,0,0,5"/>
                    <TextBox x:Name="txtEmail" Height="40" VerticalContentAlignment="Center" Padding="10,0" BorderBrush="#E6E6E6" Margin="0,0,0,15">
                        <TextBox.Resources>
                            <Style TargetType="Border">
                                <Setter Property="CornerRadius" Value="5"/>
                            </Style>
                        </TextBox.Resources>
                    </TextBox>

                    <TextBlock Text="Información de la tarjeta" Foreground="#4F566B" FontSize="13" Margin="0,0,0,5"/>
                    <Border BorderBrush="#E6E6E6" BorderThickness="1" CornerRadius="5">
                        <StackPanel>
                            <TextBox BorderThickness="0" Height="40" VerticalContentAlignment="Center" Padding="10,0" Text="1234 5678 1234 5678" Foreground="#1A1F36"/>
                            <Separator Background="#E6E6E6" Margin="0"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBox Grid.Column="0" BorderThickness="0" Height="40" VerticalContentAlignment="Center" Padding="10,0" Text="MM / AA" Foreground="#A3ACBF"/>
                                <Border Grid.Column="0" BorderBrush="#E6E6E6" BorderThickness="0,0,1,0"/>
                                <TextBox Grid.Column="1" BorderThickness="0" Height="40" VerticalContentAlignment="Center" Padding="10,0" Text="CVC" Foreground="#A3ACBF"/>
                            </Grid>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <Button Content="Pagar ahora" Click="BtnPagar_Click" Height="45" Margin="0,40,0,0"
                        Background="#635BFF" Foreground="White" FontSize="16" FontWeight="Bold" Cursor="Hand">
                    <Button.Resources>
                        <Style TargetType="Border">
                            <Setter Property="CornerRadius" Value="5"/>
                        </Style>
                    </Button.Resources>
                </Button>

                <Button Content="← Volver al carrito" Click="BtnCancelar_Click" Margin="0,20,0,0" 
                        Background="Transparent" Foreground="#697386" BorderThickness="0" Cursor="Hand"/>
            </StackPanel>

            <Border x:Name="OverlayProcesando" Background="White" CornerRadius="15" Visibility="Collapsed">
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Viewbox Width="60" Height="60">
                        <Canvas Width="100" Height="100">
                            <Ellipse Stroke="#F3F3F7" StrokeThickness="10" Width="90" Height="90" Canvas.Left="5" Canvas.Top="5"/>
                            <Path Stroke="#635BFF" StrokeThickness="10" StrokeStartLineCap="Round" StrokeEndLineCap="Round"
                      Data="M 50,5 A 45,45 0 0 1 95,50">
                                <Path.RenderTransform>
                                    <RotateTransform x:Name="SpinnerRotate" CenterX="50" CenterY="50" />
                                </Path.RenderTransform>
                                <Path.Triggers>
                                    <EventTrigger RoutedEvent="Loaded">
                                        <BeginStoryboard>
                                            <Storyboard>
                                                <DoubleAnimation Storyboard.TargetName="SpinnerRotate" 
                                                     Storyboard.TargetProperty="Angle" 
                                                     From="0" To="360" Duration="0:0:1" 
                                                     RepeatBehavior="Forever" />
                                            </Storyboard>
                                        </BeginStoryboard>
                                    </EventTrigger>
                                </Path.Triggers>
                            </Path>
                        </Canvas>
                    </Viewbox>
                    <TextBlock Text="Procesando tu pago..." Margin="0,25,0,0" FontSize="17" 
                   FontWeight="Medium" Foreground="#4F566B" HorizontalAlignment="Center"/>
                    <TextBlock Text="No cierres esta ventana" Margin="0,5,0,0" FontSize="13" 
                   Foreground="#A3ACBF" HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>